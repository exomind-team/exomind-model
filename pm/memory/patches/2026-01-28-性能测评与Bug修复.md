# 记忆补丁 - 2026-01-28

## 修改类型
**新增 / 修正**

## 修改内容

### 新增：性能测评结果

**综合性能测试数据**：
| 指标 | 数值 | 评级 |
|------|------|------|
| 峰值内存 | 51.96 MB | ✅ 优秀 |
| 音频回调丢失率 | -0.27% | ✅ 完美 |
| 录音内存增长 | 0.94 MB/3秒 | ✅ 优秀 |
| 文本清理 | 1.52 μs | ✅ 极快 |
| 剪贴板复制 | 2.15 ms | ✅ 良好 |
| 剪贴板粘贴 | 2.57 ms | ✅ 良好 |

**测试文件**: `performance_benchmark.py`

### 新增：Bug 记录

1. **Bug-06**: FunASR 1.3.1 modelscope.cn SSL 连接失败
2. **Bug-07**: FunASR 1.3.1 模型名称未注册
3. **Bug-08**: ROCm GPU 加速不可用
4. **Bug-09**: 提示音 pyaudio 依赖缺失 → **已修复**

### 修正：beep() 函数

**原内容**:
```python
def beep(self, frequency: int = 880, duration: float = 0.1):
    """播放提示音"""
    try:
        import pyaudio
        p = pyaudio.PyAudio()
        stream = p.open(format=pyaudio.paInt16, channels=1, rate=44100,
                      output=True)
        samples = (np.sin(2 * np.pi * np.arange(44100 * duration)
                        * frequency / 44100) * 32767).astype(np.int16)
        stream.write(samples.tobytes())
        stream.close()
        p.terminate()
    except:
        pass
```

**新内容**:
```python
def beep(self, frequency: int = 880, duration: float = 0.1):
    """播放提示音 (使用 sounddevice，无需 pyaudio)"""
    try:
        import sounddevice as sd
        samples = (np.sin(2 * np.pi * np.arange(44100 * duration)
                        * frequency / 44100) * 32767).astype(np.int16)
        sd.play(samples, samplerate=44100)
        sd.wait()
    except Exception:
        pass
```

### 新增：任务

| ID | 任务 | 状态 | 说明 |
|----|------|------|------|
| T-16 | 修复 FunASR 1.3.1 模型注册 | ⏳ 待开发 | modelscope.cn SSL 问题 |
| T-17 | 修复 ROCm GPU 加速 | ⏳ 待开发 | AMD RX 6750 GRE 支持 |

## 修改原因

1. 性能测评完成，添加测试结果到长期记忆
2. 发现新 Bug (SSL 连接、GPU 加速) 需记录
3. 修复 pyaudio 依赖问题，改用 sounddevice

## 关联任务
- 性能测评任务
- Bug 修复任务

## 创建时间
2026-01-28 00:43
